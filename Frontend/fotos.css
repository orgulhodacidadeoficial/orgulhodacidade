/* ============================================================
   HEADER MELHORADO - MODERNO E ELEGANTE
   ============================================================ */

/* Logo Section */
.logo-section {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-right: auto;
}

.logo-icon {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #ff8a00 0%, #e52e71 50%, #6a00ff 100%);
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 20px;
  box-shadow: 0 4px 15px rgba(229, 46, 113, 0.3);
  transition: all 0.3s ease;
}

.logo-icon:hover {
  transform: scale(1.1) rotate(-5deg);
  box-shadow: 0 6px 25px rgba(229, 46, 113, 0.5);
}

.logo-text {
  font-size: 22px;
  font-weight: 700;
  background: linear-gradient(90deg, #ff8a00 0%, #e52e71 35%, #6a00ff 70%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.5px;
}

/* Melhorar nav links com ícones */
.nav-links {
  display: flex;
  list-style: none;
  margin: 0;
  padding: 0;
  gap: 4px;
  align-items: center;
}

.nav-links a {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  border-radius: 8px;
  font-weight: 500;
  font-size: 14px;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  position: relative;
  overflow: hidden;
}

.nav-links a::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #ff8a00 0%, #e52e71 50%, #6a00ff 100%);
  opacity: 0;
  z-index: -1;
  transition: opacity 0.3s ease;
  border-radius: 8px;
}

.nav-links a:hover {
  color: white;
  transform: translateY(-2px);
}

.nav-links a:hover::before {
  opacity: 0.15;
}

.nav-links a.active {
  color: #e52e71;
  background: rgba(229, 46, 113, 0.1);
  font-weight: 600;
}

.nav-links a.active::before {
  opacity: 0.1;
}

.nav-links a i {
  font-size: 16px;
  transition: all 0.3s ease;
}

.nav-links a:hover i {
  transform: scale(1.15);
}

/* Responsive: hide text on small screens */
@media (max-width: 768px) {
  .nav-links span {
    display: none;
  }
  
  .nav-links a {
    padding: 8px 10px;
  }
  
  .logo-text {
    font-size: 18px;
  }
}

/* ============================================================ */

/* Estilos da galeria estilo Instagram */
:root{
    --gap:8px;
    --bg:#111;
}
body .gallery-content{padding:24px;max-width:1100px;margin:0 auto}

/* ensure content starts below sticky header (header ~64px) */
.gallery-content{padding-top:110px}

/* Título grande e animado da galeria */
.gallery-title{
  margin:0 0 18px;
  font-weight:800;
  line-height:1;
  letter-spacing:-0.5px;
  font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  /* responsivo: between 36px and 96px depending on viewport */
  font-size: clamp(36px, 7.5vw, 96px);
  display:inline-block;
  padding:8px 18px;
  border-radius:12px;
  color: transparent; /* gradient text uses background-clip */
  background: linear-gradient(90deg, #ff8a00 0%, #e52e71 35%, #6a00ff 70%);
  -webkit-background-clip: text;
  background-clip: text;
  text-shadow: 0 6px 18px rgba(106,0,255,0.12), 0 2px 6px rgba(0,0,0,0.35);
  position:relative;
  transform-origin:center;
  animation: title-entrance 900ms cubic-bezier(.22,.9,.3,1) both;
  transition: transform .28s ease, filter .28s ease;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  /* moving gradient for subtle life */
  background-size: 220% 100%;
  animation: title-entrance 900ms cubic-bezier(.22,.9,.3,1) both, gradient-move 6s linear infinite;
}

/* soft glow behind the text */
.gallery-title::after{
  content:'';
  position:absolute;
  left:50%;top:50%;transform:translate(-50%,-50%);
  width:110%;height:110%;
  background: radial-gradient(closest-side, rgba(229,46,113,0.12), transparent 45%);
  filter: blur(18px);
  opacity:.9;
  z-index:-1;
  border-radius:12px;
  pointer-events:none;
  animation: glow-pulse 3.6s ease-in-out infinite alternate;
}

/* hover / focus micro-interaction */
.gallery-title:hover, .gallery-title:focus{transform: translateY(-6px) scale(1.02);}

@keyframes title-entrance{
  0%{opacity:0;transform:translateY(18px) scale(.98);filter:blur(8px)}
  60%{opacity:1;transform:translateY(-6px) scale(1.01);filter:blur(0)}
  100%{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}
}

@keyframes gradient-move{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

@keyframes glow-pulse{
  0%{opacity:0.45;filter:blur(14px)}
  100%{opacity:0.9;filter:blur(20px)}
}

@keyframes slideInDown{
  0%{opacity:0;transform:translateY(-20px)}
  100%{opacity:1;transform:translateY(0)}
}

/* Rockets decorative (São João) */
.gallery-title-wrap{position:relative;display:block;text-align:center;z-index:900;margin-top:24px}
/* Desktop-only adjustment: push the gallery title further down to avoid overlap with sticky header */
@media (min-width:1024px) {
  /* increase top spacing on large screens only; tweak value as needed */
  .gallery-title-wrap{margin-top:200px}
}
.rockets{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none;overflow:visible}
.rocket{position:absolute;bottom:-6px;transform-origin:center bottom;opacity:0;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.45));}
.rocket .flame{transform-origin:32px 54px;}

/* positions and stagger */
.rocket.r1{left:6%;width:44px;height:44px;}
.rocket.r2{left:50%;transform:translateX(-50%);width:36px;height:36px;}
.rocket.r3{right:6%;width:30px;height:30px;}

/* animation: launch then disappear upwards */
.rocket.r1{animation: rocket-launch 4200ms cubic-bezier(.2,.8,.25,1) infinite 800ms;}
.rocket.r2{animation: rocket-launch 5200ms cubic-bezier(.2,.8,.25,1) infinite 1600ms;}
.rocket.r3{animation: rocket-launch 4800ms cubic-bezier(.2,.8,.25,1) infinite 2400ms;}

@keyframes rocket-launch{
  0%{transform:translateY(0) scale(.9) rotate(-8deg);opacity:0}
  5%{opacity:1}
  40%{transform:translateY(-160px) scale(1) rotate(6deg);opacity:1}
  70%{transform:translateY(-320px) scale(1.04) rotate(12deg);opacity:.9}
  100%{transform:translateY(-520px) scale(1.08) rotate(18deg);opacity:0}
}

/* small flame flicker */
@keyframes flame-flicker{
  0%{transform:scaleY(1) translateY(0);opacity:1}
  50%{transform:scaleY(1.18) translateY(-2px);opacity:0.9}
  100%{transform:scaleY(1) translateY(0);opacity:1}
}
.rocket .flame{animation: flame-flicker 220ms ease-in-out infinite alternate}

/* hide on very small screens to avoid clutter */
@media (max-width:420px){
  .rockets{display:none}
  .gallery-title{font-size: clamp(28px, 9vw, 64px)}
}

/* Burst particle animations for festive explosions */
.rocket .burst circle{
  transform-box: fill-box;
  transform-origin: 32px 10px;
  opacity: 0;
}
.rocket.r1 .burst circle{animation: burst 4200ms cubic-bezier(.2,.8,.25,1) infinite 800ms}
.rocket.r2 .burst circle{animation: burst 5200ms cubic-bezier(.2,.8,.25,1) infinite 1600ms}
.rocket.r3 .burst circle{animation: burst 4800ms cubic-bezier(.2,.8,.25,1) infinite 2400ms}

@keyframes burst{
  0%{opacity:0;transform:translate(0,0) scale(.6)}
  30%{opacity:0;transform:translate(0,0) scale(.8)}
  38%{opacity:1;transform:translate(calc(var(--dx) * 0.45), calc(var(--dy) * 0.45)) scale(1.1)}
  45%{opacity:1;transform:translate(var(--dx), var(--dy)) scale(1)}
  70%{opacity:.7;transform:translate(calc(var(--dx) * 1.28), calc(var(--dy) * 1.28)) scale(.9)}
  100%{opacity:0;transform:translate(calc(var(--dx) * 1.7), calc(var(--dy) * 1.7)) scale(.6)}
}

/* small shimmer on burst particles */
.rocket .burst circle{filter: drop-shadow(0 4px 6px rgba(0,0,0,0.25))}


/* Fireworks (fogos de artifício) */
.fireworks{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none;overflow:visible;z-index:900}
.firework{position:absolute;bottom:6px;width:6px;height:6px;transform-origin:center bottom}
.firework .launch{position:absolute;left:50%;transform:translateX(-50%);bottom:0;width:8px;height:8px;border-radius:50%;background:linear-gradient(180deg,#fff,#ffd700);box-shadow:0 6px 18px rgba(0,0,0,0.35);opacity:0}
.firework .burst{position:absolute;left:50%;bottom:100%;transform:translateX(-50%);width:240px;height:240px;pointer-events:none}
.firework .burst .spark{position:absolute;left:50%;top:50%;width:6px;height:6px;border-radius:50%;opacity:0;transform:translate(-50%,-50%) scale(0.8);box-shadow:0 6px 14px rgba(0,0,0,0.25)}

/* timings: synchronized with launch so burst appears at apex */
.fw1 .launch{animation: fw-launch 4200ms cubic-bezier(.2,.8,.25,1) infinite 800ms}
.fw2 .launch{animation: fw-launch 5200ms cubic-bezier(.2,.8,.25,1) infinite 1600ms}
.fw3 .launch{animation: fw-launch 4800ms cubic-bezier(.2,.8,.25,1) infinite 2400ms}
.fw1 .burst .spark{animation: fw-spark 4200ms cubic-bezier(.2,.8,.25,1) infinite 800ms}
.fw2 .burst .spark{animation: fw-spark 5200ms cubic-bezier(.2,.8,.25,1) infinite 1600ms}
.fw3 .burst .spark{animation: fw-spark 4800ms cubic-bezier(.2,.8,.25,1) infinite 2400ms}

@keyframes fw-launch{
  0%{opacity:0;transform:translateY(0) scale(.8)}
  6%{opacity:1}
  /* reduce apex so explosion happens below sticky header */
  40%{transform:translateY(-140px) scale(1);opacity:1}
  45%{opacity:0;transform:translateY(-160px) scale(.8)}
  100%{opacity:0;transform:translateY(-180px) scale(.6)}
}

@keyframes fw-spark{
  0%{opacity:0;transform:translate(-50%,-50%) scale(.6)}
  30%{opacity:0;transform:translate(-50%,-50%) scale(.8)}
  38%{opacity:1;transform:translate(-50%,-50%) scale(1)}
  /* explode to target using CSS variables set inline (--tx, --ty) */
  45%{opacity:1;transform:translate(calc(var(--tx)), calc(var(--ty))) scale(1)}
  65%{opacity:.8;transform:translate(calc(var(--tx) * 1.18), calc(var(--ty) * 1.18)) scale(.9)}
  100%{opacity:0;transform:translate(calc(var(--tx) * 1.6), calc(var(--ty) * 1.6)) scale(.6)}
}

/* small glow for sparks */
.firework .burst .spark{filter:drop-shadow(0 6px 12px rgba(255,200,160,0.18))}

/* hide fireworks on very small screens to avoid clutter */
@media (max-width:420px){
  .fireworks{display:none}
}


/* Control bar for add buttons */
.control-bar{
  display:none;
  align-items:center;
  gap:12px;
  margin-bottom:20px;
  padding:12px;
  background:linear-gradient(135deg, rgba(255,138,0,0.08), rgba(229,46,113,0.08));
  border-radius:10px;
  border:1px solid rgba(255,138,0,0.15);
  animation:slideInDown 0.3s ease-out
}

.btn-add-photo,
.btn-add-story{
  padding:10px 16px;
  border-radius:8px;
  border:0;
  cursor:pointer;
  color:#fff;
  font-weight:700;
  font-size:14px;
  transition:all 0.2s;
  box-shadow:0 8px 24px rgba(229,46,113,0.18)
}

.btn-add-photo{
  background:linear-gradient(90deg,#ff8a00,#e52e71)
}

.btn-add-photo:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 32px rgba(229,46,113,0.28)
}

.btn-add-photo:active{
  transform:translateY(0)
}

.btn-add-story{
  background:linear-gradient(90deg,#6a00ff,#0084ff);
  padding:10px 14px;
  font-size:13px
}

.btn-add-story:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 32px rgba(106,0,255,0.28)
}

.btn-add-story:active{
  transform:translateY(0)
}

.upload-label{display:inline-flex;align-items:center;gap:10px;padding:8px 12px;border-radius:6px;background:#f3f3f3;cursor:pointer}
.upload-label input{display:none}

.gallery{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:var(--gap);
}
.gallery-item{position:relative;overflow:hidden;border-radius:6px;background:#ddd;display:block}
.gallery-item .media{
  width:100%;height:100%;display:block;object-fit:cover;aspect-ratio:9/16;border:0;display:block;
}
.gallery-item .overlay{
  position:absolute;inset:0;display:flex;align-items:center;justify-content:center;transition:background .15s;
}
.gallery-item:hover .overlay{background:rgba(0,0,0,.25)}
.play-icon{color:#fff;font-size:26px;filter:drop-shadow(0 1px 2px rgba(0,0,0,.5))}

/* small screens */
@media (max-width:900px){.gallery{grid-template-columns:repeat(2,1fr)}}
@media (max-width:480px){.gallery{grid-template-columns:repeat(3,1fr)}}

/* Stories / highlights (círculos no topo) */
.stories-container{margin:14px 0;padding:6px 0;border-radius:8px;position:relative;display:flex;align-items:center;gap:12px}
.stories{display:flex;gap:12px;overflow-x:auto;padding:8px 6px;align-items:center;flex:1;scroll-behavior:smooth}
.stories::-webkit-scrollbar{height:8px}
.story-item{display:flex;flex-direction:column;align-items:center;width:84px;flex:0 0 auto;text-align:center}

/* navigation buttons for stories (desktop only) */
.stories-nav{
  display:none;width:40px;height:40px;border-radius:50%;border:1px solid rgba(255,255,255,0.3);background:rgba(255,255,255,0.08);color:#fff;font-size:24px;cursor:pointer;flex-shrink:0;transition:all 0.2s;font-weight:300
}
.stories-nav:hover{background:rgba(255,255,255,0.15);border-color:rgba(255,255,255,0.5)}
.stories-nav:active{transform:scale(0.95)}

@media (min-width:768px){
  .stories-nav{display:flex;align-items:center;justify-content:center}
}

.story-ring{
  width:72px;
  height:72px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:50%;
  padding:4px; /* keep small inner spacing */
  /* fundo escuro e sem borda chamativa */
  background:#060606;
  position:relative;
  flex: 0 0 auto;
}

/* small translucent + button that appears above the story ring */
.story-add{
  position:absolute;right:4px;top:4px;width:28px;height:28px;border-radius:50%;border:0;background:rgba(255,255,255,0.12);color:#fff;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;backdrop-filter:blur(4px);box-shadow:0 6px 18px rgba(0,0,0,0.35)
}
.story-add:hover{background:rgba(255,255,255,0.18)}


/* stories container adjustments *//* anel colorido apenas quando for novo (classe --new) - mais sutil */
.story-ring--new{
  background: linear-gradient(45deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);
  /* menos espesso e glow mais contido */
  box-shadow: 0 0 0 2px rgba(255,213,79,0.9), 0 0 0 4px rgba(255,138,101,0.25);
  animation: pulse-glow 1.8s ease-in-out infinite;
}
@keyframes pulse-glow{
  0%{box-shadow:0 0 0 2px rgba(255,213,79,0.9), 0 0 0 4px rgba(255,138,101,0.25)}
  50%{box-shadow:0 0 0 2px rgba(255,213,79,0.9), 0 0 0 6px rgba(255,138,101,0.18)}
  100%{box-shadow:0 0 0 2px rgba(255,213,79,0.9), 0 0 0 4px rgba(255,138,101,0.25)}
}
.story-avatar{
  width:100%;
  height:100%;
  border-radius:50%;
  overflow:hidden;
  background:#eee;
  display:flex;
  align-items:center;
  justify-content:center;
}
.story-avatar img{
  /* Force a consistent square thumbnail inside the circle and center/crop it */
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center center;
  display:block;
}
.story-label{font-size:12px;color:#333;margin-top:6px;max-width:84px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* small adjustment for dark context */
@media (prefers-color-scheme: dark){
  .story-label{color:#ddd}
}

/* Modal */
.media-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.9);z-index:9999;padding:10px}
.media-modal.open{display:flex}
.modal-content{max-width:100%;max-height:95vh;width:100%;display:flex;align-items:center;justify-content:center;position:relative}
.modal-content img,.modal-content video{max-width:95%;max-height:95vh;object-fit:contain;border-radius:12px}
.modal-content .stories-media img,.modal-content .stories-media video{
  /* Ajustar para caber inteiro sem cortar */
  width: min(95vw, 100%);
  max-width: 100%;
  max-height: 95vh;
  aspect-ratio: auto;
  object-fit: contain;
  border-radius:12px;
}
.stories-media{display:flex;align-items:center;justify-content:center;max-width:100%;max-height:95vh;padding:10px}
.stories-indicator{position:absolute;top:8px;left:8px;right:8px;display:flex;gap:6px;z-index:3;padding:4px}
.stories-indicator .segment{flex:1;background:rgba(255,255,255,0.12);height:6px;border-radius:4px;overflow:hidden}
.stories-indicator .segment .fill{height:100%;width:0%;background:linear-gradient(90deg,#fff,#ffe5e5);transition:width .08s linear}
.stories-media img,.stories-media video{max-width:100%;max-height:95vh;object-fit:contain;border-radius:12px}
.stories-media{cursor:pointer}
.modal-close{position:absolute;top:18px;right:20px;background:transparent;border:0;color:#fff;font-size:32px;cursor:pointer}

/* small decorative */
.gallery-item::after{content:'';display:block;padding-bottom:177.777%}
.gallery-item > *{position:absolute;inset:0}

/* Admin delete buttons */
.btn-delete{display:flex;align-items:center;justify-content:center;font-size:16px;transition:transform .12s ease, box-shadow .12s ease}
.btn-delete i{pointer-events:none}
.btn-delete:hover{transform:translateY(-2px);box-shadow:0 8px 22px rgba(0,0,0,0.35)}

.story-remove{display:flex;align-items:center;justify-content:center;font-size:14px;transition:transform .12s ease}
.story-remove:hover{transform:translateY(-2px)}

/* admin-only helper: hidden unless body has .is-admin (admin.js toggles it) */
body:not(.is-admin) .admin-only{display:none !important}
